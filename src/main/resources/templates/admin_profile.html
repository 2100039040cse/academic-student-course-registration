<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Student Portal</title>
  <link rel="stylesheet" href="student_profile.css">
</head>

<body>
<div class="sidebar">
  <h2>Student Portal</h2>
  <ul>
    <li><a href="/admin_home">Home</a></li>
    <li><a href="/admin_profile">My Profile</a></li>
    <li><a href="/admin_course">Academic Course</a></li>
    <li><a href="/admin_student_list">Student's List</a></li>
    <li><a href="/admin_student_requests">Give Access</a></li>
    <li><a href="/login">Logout</a></li>
    <!-- Add more options as needed -->
  </ul>
</div>

<div class="content">
  <header>
    <h1>Profile</h1>
  </header>

  <main>
    <!-- Content goes here -->
    <h2>My Profile</h2>
    <div class="profile-info">
		<p>First Name: <span th:text="${user.firstName}"></span></p>
    <p>Last Name: <span th:text="${user.lastName}"></span></p>
    <p>Email: <span th:text="${user.email}"></span></p>
    <p>Roll No: <span th:text="${user.rollNo}"></span></p>
    <p>Phone: <span th:text="${user.phone}"></span></p>
    <p>Address: <span th:text="${user.address}"></span></p>
      
    </div>
    <h2>Change Password</h2>
       <form action="/change_password" method="post" th:action="@{/change_password}" th:object="${user}" class="form">
    <!-- Add the CSRF token input field here -->
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    
    <div class="form-group">
        <label for="newPassword">New Password:</label>
        <input type="password" id="newPassword" name="newPassword" required>
    </div>
    <div class="form-group">
        <label for="confirmPassword">Confirm New Password:</label>
        <input type="password" id="confirmPassword" name="confirmPassword" required>
    </div>
    <button type="submit">Change Password</button>
</form>
<div th:if="${successMessage}">
      <div class="alert alert-success" th:text="${successMessage}"></div>
    </div>

    <!-- Display error message if it exists -->
    <div th:if="${errorMessage}">
      <div class="alert alert-danger" th:text="${errorMessage}"></div>
    </div>

  </main>

  <footer>
    <p>&copy; 2023 Student Portal</p>
  </footer>
</div>

<script src="script.js"></script>
</body>

</html>
